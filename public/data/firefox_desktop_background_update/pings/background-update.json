{"bugs": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1703318"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1703318#c17"], "dates": {"first": "2021-05-13 13:21:58", "last": "2021-05-13 13:21:58"}, "description": "This ping measures the technical health of the background update system.\nSaid system downloads and processes updates when Firefox is not running.  It\nis expected that this ping will be analyzed by humans to gain confidence in\nthe implementation as the staged rollout of the system proceeds to the\nrelease channel, before settling into an automated analysis to detect spikes\nin background update failure rates.  This ping will also help to\ncharacterize the update-related settings of our user population.\n\nRight now the background update system, and therefore this ping, is\nrestricted to Windows.\n\nThis ping is submitted only by the background update task.  It should be\nsubmitted once per background update task invocation.  The expected schedule\nis every 7 hours, controlled by the pref `app.update.background.interval`,\nand subject to scheduling decisions made by the OS.\n", "git-commits": {"first": "048146721b3c1a568257afb4325c7a8d94334e2d", "last": "048146721b3c1a568257afb4325c7a8d94334e2d"}, "include_client_id": false, "no_lint": [], "notification_emails": ["install-update@mozilla.com"], "reasons": {}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": false, "source_url": "https://github.com/mozilla/gecko-dev/blob/048146721b3c1a568257afb4325c7a8d94334e2d/toolkit/mozapps/update/pings.yaml#L8", "name": "background-update", "origin": "firefox_desktop_background_update", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.background_update"}], "annotation": null, "metrics": [{"name": "background_update.client_id", "description": "The Telemetry client ID of the default profile.\n", "extra_keys": null, "type": "uuid", "expires": "never", "pings": ["background-update"]}, {"name": "background_update.exit_code_exception", "description": "True if the exit code/status of the background update task is 3, which means an exception was thrown.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "background_update.exit_code_success", "description": "True if the exit code/status of the background update task is 0, which means success.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "background_update.final_state", "description": "String description of the final state the update state machine reached.\n", "extra_keys": null, "type": "string", "expires": "never", "pings": ["background-update"]}, {"name": "background_update.reasons", "description": "List of reasons that the background update task did not run.\n", "extra_keys": null, "type": "string_list", "expires": "never", "pings": ["background-update"]}, {"name": "background_update.states", "description": "Ordered list of string descriptions of the states that the update state machine reached.\n", "extra_keys": null, "type": "string_list", "expires": "never", "pings": ["background-update"]}, {"name": "update.auto_download", "description": "Per-installation preference \"app.update.auto\": whether to fetch and install updates without user intervention.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.background_update", "description": "Per-installation preference \"app.update.background.enabled\": whether to fetch and install updates in the background when Firefox is not running.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.can_usually_apply_updates", "description": "Whether or not the Update Service can usually download and install updates. See `canUsuallyApplyUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.can_usually_check_for_updates", "description": "Whether or not the Update Service can usually check for updates. See `canUsuallyCheckForUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.can_usually_stage_updates", "description": "Whether the Update Service is usually able to stage updates. See `canUsuallyStageUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.can_usually_use_bits", "description": "On Windows, whether the Update Service can usually use BITS. See `canUsuallyUseBits` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.channel", "description": "The update channel.\n", "extra_keys": null, "type": "string", "expires": "never", "pings": ["background-update"]}, {"name": "update.enabled", "description": "True when policies are disabled or when the \"DisableAppUpdate\" is not in effect.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "update.service_enabled", "description": "Preference \"app.update.service.enabled\": whether the Mozilla Maintenance Service is enabled.\n", "extra_keys": null, "type": "boolean", "expires": "never", "pings": ["background-update"]}, {"name": "app_build", "description": "The build identifier generated by the CI system (e.g. \"1234/A\").\nFor language bindings that provide automatic detection for this value,\n(e.g. Android/Kotlin), in the unlikely event that the build identifier\ncan not be retrieved from the OS, it is set to \"inaccessible\". For other\nlanguage bindings, if the value was not provided through configuration,\nthis metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "app_channel", "description": "The channel the application is being distributed on.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "app_display_version", "description": "The user visible version string (e.g. \"1.0.3\").\n\nIn the unlikely event that the display version can not be retrieved,\nit is set to \"inaccessible\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "architecture", "description": "The architecture of the device, (e.g. \"arm\", \"x86\").\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "client_id", "description": "A UUID uniquely identifying the client.", "extra_keys": null, "type": "uuid", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "device_manufacturer", "description": "The manufacturer of the device the application is running on.\nNot set if the device manufacturer can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "device_model", "description": "The model of the device the application is running on.\nOn Android, this is Build.MODEL, the user-visible marketing name,\nlike \"Pixel 2 XL\".\nNot set if the device model can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "first_run_date", "description": "The date of the first run of the application.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "glean.error.invalid_label", "description": "Counts the number of times a metric was set with an invalid label.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "glean.error.invalid_overflow", "description": "Counts the number of times a metric was set a value that overflowed.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "glean.error.invalid_state", "description": "Counts the number of times a timing metric was used incorrectly.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "glean.error.invalid_value", "description": "Counts the number of times a metric was set to an invalid value.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "locale", "description": "The locale of the application during initialization (e.g. \"es-ES\").\nIf the locale can't be determined on the system, the value is\n[\"und\"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),\nto indicate \"undetermined\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "os", "description": "The name of the operating system.\nPossible values:\nAndroid, iOS, Linux, Darwin, Windows,\nFreeBSD, NetBSD, OpenBSD, Solaris, unknown\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}, {"name": "os_version", "description": "The user-visible version of the operating system (e.g. \"1.2.3\"). If the\nversion detection fails, this metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["background-update", "baseline", "deletion-request", "events", "metrics"]}]}