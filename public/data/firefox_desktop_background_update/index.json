{"app_name": "firefox_desktop_background_update", "app_description": "Firefox Desktop's background update task. This is considered a separate application because it has its own client id and sends its own version of the standard pings.", "canonical_app_name": "Firefox for Desktop Background Update Task", "url": "https://github.com/mozilla/gecko-dev", "notification_emails": ["chutten@mozilla.com"], "app_ids": [{"name": "firefox.desktop.background.update", "description": "Firefox Desktop's background update task. This is considered a separate application because it has its own client id and sends its own version of the standard pings.", "channel": "release", "deprecated": false, "prototype": false}], "annotation": null, "pings": [{"bugs": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1703318"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1703318#c17"], "dates": {"first": "2021-05-13 13:21:58", "last": "2021-05-13 13:21:58"}, "description": "This ping measures the technical health of the background update system.\nSaid system downloads and processes updates when Firefox is not running.  It\nis expected that this ping will be analyzed by humans to gain confidence in\nthe implementation as the staged rollout of the system proceeds to the\nrelease channel, before settling into an automated analysis to detect spikes\nin background update failure rates.  This ping will also help to\ncharacterize the update-related settings of our user population.\n\nRight now the background update system, and therefore this ping, is\nrestricted to Windows.\n\nThis ping is submitted only by the background update task.  It should be\nsubmitted once per background update task invocation.  The expected schedule\nis every 7 hours, controlled by the pref `app.update.background.interval`,\nand subject to scheduling decisions made by the OS.\n", "git-commits": {"first": "048146721b3c1a568257afb4325c7a8d94334e2d", "last": "048146721b3c1a568257afb4325c7a8d94334e2d"}, "include_client_id": false, "no_lint": [], "notification_emails": ["install-update@mozilla.com"], "reasons": {}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": false, "source_url": "https://github.com/mozilla/gecko-dev/blob/048146721b3c1a568257afb4325c7a8d94334e2d/toolkit/mozapps/update/pings.yaml#L8", "name": "background-update", "origin": "firefox_desktop_background_update", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.background_update"}], "annotation": null}, {"bugs": ["https://bugzilla.mozilla.org/1512938", "https://bugzilla.mozilla.org/1599877"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3", "https://bugzilla.mozilla.org/show_bug.cgi?id=1599877#c25"], "dates": {"first": "2021-05-12 14:16:19", "last": "2021-05-12 14:16:19"}, "description": "This ping is intended to provide metrics that are managed by the library\nitself, and not explicitly set by the application or included in the\napplication's `metrics.yaml` file.\nThe `baseline` ping is automatically sent when the application is moved to\nthe background.\n", "git-commits": {"first": "996d82f33fb1370253f38f3b61c7dfad12f3c196", "last": "996d82f33fb1370253f38f3b61c7dfad12f3c196"}, "include_client_id": true, "no_lint": [], "notification_emails": ["glean-team@mozilla.com"], "reasons": {"active": "The ping was submitted when the application became active again, which\nincludes when the application starts. In earlier versions, this was called\n`foreground`.\n\n*Note*: this ping will not contain the `glean.baseline.duration` metric.\n", "dirty_startup": "The ping was submitted at startup, because the application process was\nkilled before the Glean SDK had the chance to generate this ping, before\nbecoming inactive, in the last session.\n\n*Note*: this ping will not contain the `glean.baseline.duration` metric.\n", "inactive": "The ping was submitted when becoming inactive. In earlier versions, this\nwas called `background`.\n"}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": true, "source_url": "https://github.com/mozilla/glean/blob/996d82f33fb1370253f38f3b61c7dfad12f3c196/glean-core/pings.yaml#L12", "name": "baseline", "origin": "glean-core", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.baseline"}], "annotation": null}, {"bugs": ["https://bugzilla.mozilla.org/1587095", "https://bugzilla.mozilla.org/1702622"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1587095#c6", "https://bugzilla.mozilla.org/show_bug.cgi?id=1702622#c2"], "dates": {"first": "2021-05-12 14:16:19", "last": "2021-05-12 14:16:19"}, "description": "This ping is submitted when a user opts out of\nsending technical and interaction data to Mozilla.\nThis ping is intended to communicate to the Data Pipeline\nthat the user wishes to have their reported Telemetry data deleted.\nAs such it attempts to send itself at the moment the user\nopts out of data collection.\n", "git-commits": {"first": "996d82f33fb1370253f38f3b61c7dfad12f3c196", "last": "996d82f33fb1370253f38f3b61c7dfad12f3c196"}, "include_client_id": true, "no_lint": [], "notification_emails": ["glean-team@mozilla.com"], "reasons": {"at_init": "The ping was submitted at startup.\nGlean discovered that between the last time it was run and this time,\nupload of data has been disabled.\n", "set_upload_enabled": "The ping was submitted between Glean init and Glean shutdown.\nGlean was told after init but before shutdown that upload has changed\nfrom enabled to disabled."}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": true, "source_url": "https://github.com/mozilla/glean/blob/996d82f33fb1370253f38f3b61c7dfad12f3c196/glean-core/pings.yaml#L105", "name": "deletion-request", "origin": "glean-core", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.deletion_request"}], "annotation": null}, {"bugs": ["https://bugzilla.mozilla.org/1512938"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3"], "dates": {"first": "2021-05-12 14:16:19", "last": "2021-05-12 14:16:19"}, "description": "The events ping's purpose is to transport all of the event metric\ninformation. The `events` ping is automatically sent when the application\nbecomes inactive.\n", "git-commits": {"first": "996d82f33fb1370253f38f3b61c7dfad12f3c196", "last": "996d82f33fb1370253f38f3b61c7dfad12f3c196"}, "include_client_id": true, "no_lint": [], "notification_emails": ["glean-team@mozilla.com"], "reasons": {"inactive": "The ping was submitted when becoming inactive. In earlier versions, this\nwas called `background`.\n", "max_capacity": "The maximum number of events was reached (default 500 events).\n", "startup": "The ping was submitted at startup. The events ping is always sent if there\nare any pending events at startup, because event timestamps can not be\nmixed across runs of the application.\n"}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": false, "source_url": "https://github.com/mozilla/glean/blob/996d82f33fb1370253f38f3b61c7dfad12f3c196/glean-core/pings.yaml#L82", "name": "events", "origin": "glean-core", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.events"}], "annotation": null}, {"bugs": ["https://bugzilla.mozilla.org/1512938"], "data_reviews": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3", "https://bugzilla.mozilla.org/show_bug.cgi?id=1557048#c13"], "dates": {"first": "2021-05-12 14:16:19", "last": "2021-05-12 14:16:19"}, "description": "The `metrics` ping is intended for all of the metrics that are explicitly\nset by the application or are included in the application's `metrics.yaml`\nfile (except events).\nThe reported data is tied to the ping's *measurement window*, which is the\ntime between the collection of two `metrics` ping. Ideally, this window is\nexpected to be about 24 hours, given that the collection is scheduled daily\nat 4AM. Data in the `ping_info` section of the ping can be used to infer the\nlength of this window.\n", "git-commits": {"first": "996d82f33fb1370253f38f3b61c7dfad12f3c196", "last": "996d82f33fb1370253f38f3b61c7dfad12f3c196"}, "include_client_id": true, "no_lint": [], "notification_emails": ["glean-team@mozilla.com"], "reasons": {"overdue": "The last ping wasn't submitted on the current calendar day, but it's after\n4am, so this ping submitted immediately\n", "reschedule": "A ping was just submitted. This ping was rescheduled for the next calendar\nday at 4am.\n", "today": "The last ping wasn't submitted on the current calendar day, but it is\nstill before 4am, so schedule to send this ping on the current calendar\nday at 4am.\n", "tomorrow": "The last ping was already submitted on the current calendar day, so\nschedule this ping for the next calendar day at 4am.\n", "upgrade": "This ping was submitted at startup because the application was just\nupgraded.\n"}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": false, "source_url": "https://github.com/mozilla/glean/blob/996d82f33fb1370253f38f3b61c7dfad12f3c196/glean-core/pings.yaml#L46", "name": "metrics", "origin": "glean-core", "variants": [{"app_id": "firefox.desktop.background.update", "app_channel": "release", "table": "firefox_desktop_background_update.metrics"}], "annotation": null}], "metrics": [{"name": "app_build", "description": "The build identifier generated by the CI system (e.g. \"1234/A\").\nFor language bindings that provide automatic detection for this value,\n(e.g. Android/Kotlin), in the unlikely event that the build identifier\ncan not be retrieved from the OS, it is set to \"inaccessible\". For other\nlanguage bindings, if the value was not provided through configuration,\nthis metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "app_channel", "description": "The channel the application is being distributed on.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "app_display_version", "description": "The user visible version string (e.g. \"1.0.3\").\n\nIn the unlikely event that the display version can not be retrieved,\nit is set to \"inaccessible\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "architecture", "description": "The architecture of the device, (e.g. \"arm\", \"x86\").\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "background_update.client_id", "description": "The Telemetry client ID of the default profile.\n", "extra_keys": null, "type": "uuid", "expires": "never"}, {"name": "background_update.exit_code_exception", "description": "True if the exit code/status of the background update task is 3, which means an exception was thrown.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "background_update.exit_code_success", "description": "True if the exit code/status of the background update task is 0, which means success.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "background_update.final_state", "description": "String description of the final state the update state machine reached.\n", "extra_keys": null, "type": "string", "expires": "never"}, {"name": "background_update.reasons", "description": "List of reasons that the background update task did not run.\n", "extra_keys": null, "type": "string_list", "expires": "never"}, {"name": "background_update.states", "description": "Ordered list of string descriptions of the states that the update state machine reached.\n", "extra_keys": null, "type": "string_list", "expires": "never"}, {"name": "client_id", "description": "A UUID uniquely identifying the client.", "extra_keys": null, "type": "uuid", "expires": "never", "origin": "glean-core"}, {"name": "device_manufacturer", "description": "The manufacturer of the device the application is running on.\nNot set if the device manufacturer can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "device_model", "description": "The model of the device the application is running on.\nOn Android, this is Build.MODEL, the user-visible marketing name,\nlike \"Pixel 2 XL\".\nNot set if the device model can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "end_time", "description": "The time of the end of collection of the data in the ping,\nin local time and with minute precision, including timezone information.\nThis is also the time this ping was generated\nand is likely well before ping transmission time.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core"}, {"name": "experiments", "description": "Optional. A dictionary of active experiments.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "first_run_date", "description": "The date of the first run of the application.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core"}, {"name": "glean.baseline.duration", "description": "The duration of the last foreground session.\n", "extra_keys": null, "type": "timespan", "expires": "never", "origin": "glean-core"}, {"name": "glean.baseline.locale", "description": "The locale of the application during initialization (e.g. \"es-ES\").\nIf the locale can't be determined on the system, the value is\n[\"und\"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),\nto indicate \"undetermined\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "glean.database.size", "description": "The size of the database file at startup.\n", "extra_keys": null, "type": "memory_distribution", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.invalid_label", "description": "Counts the number of times a metric was set with an invalid label.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.invalid_overflow", "description": "Counts the number of times a metric was set a value that overflowed.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.invalid_state", "description": "Counts the number of times a timing metric was used incorrectly.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.invalid_value", "description": "Counts the number of times a metric was set to an invalid value.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.io", "description": "The number of times we encountered an IO error\nwhen writing a pending ping to disk.\n", "extra_keys": null, "type": "counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.preinit_tasks_overflow", "description": "The number of tasks queued in the pre-initialization buffer.\nOnly sent if the buffer overflows.\n", "extra_keys": null, "type": "counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.error.preinit_tasks_timeout", "description": "Set to true if the tasks that are queued prior to Glean initialization time out.", "extra_keys": null, "type": "boolean", "expires": "never", "origin": "glean-core"}, {"name": "glean.time.invalid_timezone_offset", "description": "Counts the number of times we encountered an invalid timezone offset\nwhen trying to get the current time.\nA timezone offset is invalid if it is outside [-24h, +24h].\nIf invalid a UTC offset is used (+0h).\n", "extra_keys": null, "type": "counter", "expires": "2021-06-30", "origin": "glean-core"}, {"name": "glean.upload.deleted_pings_after_quota_hit", "description": "The number of pings deleted after the quota\nfor the size of the pending pings directory or number of files is hit.\nSince quota is only calculated for the pending pings directory,\nand deletion request ping live in a different directory,\ndeletion request pings are never deleted.\n", "extra_keys": null, "type": "counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.upload.discarded_exceeding_pings_size", "description": "The size of pings that exceeded the maximum ping size allowed for upload.\n", "extra_keys": null, "type": "memory_distribution", "expires": "never", "origin": "glean-core"}, {"name": "glean.upload.pending_pings", "description": "The total number of pending pings at startup.\nThis does not include deletion-request pings.\n", "extra_keys": null, "type": "counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.upload.pending_pings_directory_size", "description": "The size of the pending pings directory upon initialization of Glean.\nThis does not include the size of the deletion request pings directory.\n", "extra_keys": null, "type": "memory_distribution", "expires": "never", "origin": "glean-core"}, {"name": "glean.upload.ping_upload_failure", "description": "Counts the number of ping upload failures, by type of failure.\nThis includes failures for all ping types,\nthough the counts appear in the next successfully sent `metrics` ping.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.validation.first_run_hour", "description": "The hour of the first run of the application.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core"}, {"name": "glean.validation.foreground_count", "description": "On mobile, the number of times the application went to foreground.\n", "extra_keys": null, "type": "counter", "expires": "never", "origin": "glean-core"}, {"name": "glean.validation.pings_submitted", "description": "A count of the pings submitted, by ping type.\n\nThis metric appears in both the metrics and baseline pings.\n\n- On the metrics ping, the counts include the number of pings sent since\n  the last metrics ping (including the last metrics ping)\n- On the baseline ping, the counts include the number of pings send since\n  the last baseline ping (including the last baseline ping)\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core"}, {"name": "locale", "description": "The locale of the application during initialization (e.g. \"es-ES\").\nIf the locale can't be determined on the system, the value is\n[\"und\"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),\nto indicate \"undetermined\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "os", "description": "The name of the operating system.\nPossible values:\nAndroid, iOS, Linux, Darwin, Windows,\nFreeBSD, NetBSD, OpenBSD, Solaris, unknown\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "os_version", "description": "The user-visible version of the operating system (e.g. \"1.2.3\"). If the\nversion detection fails, this metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "ping_reason", "description": "The optional reason the ping was submitted.\nThe specific values for reason are specific to each ping, and are\ndocumented in the ping's pings.yaml file.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "reason", "description": "The optional reason the ping was submitted.\nThe specific values for reason are specific to each ping, and are\ndocumented in the ping's pings.yaml file.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "seq", "description": "A running counter of the number of times pings of this type have been sent\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core"}, {"name": "start_time", "description": "The time of the start of collection of the data in the ping,\nin local time and with minute precision, including timezone information.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core"}, {"name": "update.auto_download", "description": "Per-installation preference \"app.update.auto\": whether to fetch and install updates without user intervention.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.background_update", "description": "Per-installation preference \"app.update.background.enabled\": whether to fetch and install updates in the background when Firefox is not running.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.can_usually_apply_updates", "description": "Whether or not the Update Service can usually download and install updates. See `canUsuallyApplyUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.can_usually_check_for_updates", "description": "Whether or not the Update Service can usually check for updates. See `canUsuallyCheckForUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.can_usually_stage_updates", "description": "Whether the Update Service is usually able to stage updates. See `canUsuallyStageUpdates` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.can_usually_use_bits", "description": "On Windows, whether the Update Service can usually use BITS. See `canUsuallyUseBits` in https://searchfox.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.channel", "description": "The update channel.\n", "extra_keys": null, "type": "string", "expires": "never"}, {"name": "update.enabled", "description": "True when policies are disabled or when the \"DisableAppUpdate\" is not in effect.\n", "extra_keys": null, "type": "boolean", "expires": "never"}, {"name": "update.service_enabled", "description": "Preference \"app.update.service.enabled\": whether the Mozilla Maintenance Service is enabled.\n", "extra_keys": null, "type": "boolean", "expires": "never"}]}