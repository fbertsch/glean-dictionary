{"bugs": ["https://github.com/mozilla-mobile/fenix/issues/8803", "https://github.com/mozilla-mobile/fenix/issues/17972"], "data_reviews": ["https://github.com/mozilla-mobile/fenix/pull/9788#pullrequestreview-394228626", "https://github.com/mozilla-mobile/fenix/pull/18043#issue-575389284"], "dates": {"first": "2021-05-14 01:18:59", "last": "2021-05-14 01:18:59"}, "description": "This ping is intended to provide an understanding of startup performance.\n\nIn addition to being captured on real devices, the ping data was prematurely\noptimized into this separate ping to be isolated from other metrics to be\nmore easily captured by performance testing automation but that hasn't\nhappened in practice. We would have removed it but implementation\ndetails don't make that possible:\nhttps://github.com/mozilla-mobile/fenix/issues/17972#issuecomment-781002987\n", "git-commits": {"first": "51d10734c7e51fe2cf23d8a5e6fa5a557dc94501", "last": "51d10734c7e51fe2cf23d8a5e6fa5a557dc94501"}, "include_client_id": true, "no_lint": [], "notification_emails": ["perf-android-fe@mozilla.com", "mcomella@mozilla.com"], "reasons": {}, "reflog-index": {"first": 0, "last": 0}, "send_if_empty": false, "source_url": "https://github.com/mozilla-mobile/fenix/blob/51d10734c7e51fe2cf23d8a5e6fa5a557dc94501/app/pings.yaml#L34", "name": "startup-timeline", "origin": "fenix", "variants": [{"app_id": "org.mozilla.fenix", "app_channel": "nightly", "table": "org_mozilla_fenix.startup_timeline"}, {"app_id": "org.mozilla.firefox_beta", "app_channel": "beta", "table": "org_mozilla_firefox_beta.startup_timeline"}, {"app_id": "org.mozilla.firefox", "app_channel": "release", "table": "org_mozilla_firefox.startup_timeline"}, {"app_id": "org.mozilla.fenix.nightly", "app_channel": "nightly", "table": "org_mozilla_fenix_nightly.startup_timeline"}, {"app_id": "org.mozilla.fennec.aurora", "app_channel": "nightly", "table": "org_mozilla_fennec_aurora.startup_timeline"}], "annotation": null, "metrics": [{"name": "startup.timeline.clock_ticks_per_second", "description": "The number of clock tick time units that occur in one second on this\nparticular device. This value is expected to be used in conjunction with\nthe `framework_start` metric.\n", "extra_keys": null, "type": "counter", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.clock_ticks_per_second_v2", "description": "The number of clock tick time units that occur in one second on this\nparticular device. This value is expected to be used in conjunction with\nthe `framework_primary/secondary` metrics.\n", "extra_keys": null, "type": "quantity", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.framework_primary", "description": "The duration the Android framework takes to start before letting us run\ncode in `*Application.init` when this device has\n`clock_ticks_per_second_v2` equal to 100: if it's not equal to 100, then\nthis value is captured in `framework_secondary`. We split this into two\nmetrics to make it easier to analyze in GLAM. We split on 100 because\nwhen we did our initial brief analysis -\nhttps://sql.telemetry.mozilla.org/queries/75591 - the results for clocks\nticks were overwhelmingly 100.\n\nThe duration is calculated from `appInitTimestamp -\nprocessStartTimestamp`. `processStartTimestamp` is derived from the clock\ntick time unit, which is expected to be less granular than nanoseconds.\nTherefore, we convert and round our timestamps to clock ticks before\ncomputing the difference and convert back to nanoseconds to report.\n\nFor debugging purposes, `clock_ticks_per_second_v2`, which may vary\nbetween devices, is also reported as a metric\n", "extra_keys": null, "type": "timespan", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.framework_secondary", "description": "The duration the Android framework takes to start before letting us run\ncode in `*Application.init` when this device has\n`clock_ticks_per_second_v2` not equal to 100. For more details on this\nmetric, see `framework_primary`\n", "extra_keys": null, "type": "timespan", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.framework_start", "description": "The duration the Android framework takes to start before letting us run\ncode in `*Application.init`. This is calculated from `appInitTimestamp -\nprocessStartTimestamp`. `processStartTimestamp` is derived from the clock\ntick time unit, which is expected to be less granular than nanoseconds.\nTherefore, we convert and round our timestamps to clock ticks before\ncomputing the difference and convert back to nanoseconds to report.\n\nFor debugging purposes, `clock_ticks_per_second`, which may vary between\ndevices, is also reported as a metric\n", "extra_keys": null, "type": "timespan", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.framework_start_error", "description": "An error when attempting to record `framework_primary/secondary` - the\napplication init timestamp returned a negative value - which is likely\nindicative of a bug in the implementation.\n", "extra_keys": null, "type": "boolean", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "startup.timeline.framework_start_read_error", "description": "An error when attempting to read stats from /proc pseudo-filesystem -\nprivacy managers can block access to reading these files -\nthe application will catch a file reading exception.\n", "extra_keys": null, "type": "boolean", "expires": "2021-08-01", "pings": ["startup-timeline"]}, {"name": "app_build", "description": "The build identifier generated by the CI system (e.g. \"1234/A\").\nFor language bindings that provide automatic detection for this value,\n(e.g. Android/Kotlin), in the unlikely event that the build identifier\ncan not be retrieved from the OS, it is set to \"inaccessible\". For other\nlanguage bindings, if the value was not provided through configuration,\nthis metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "app_channel", "description": "The channel the application is being distributed on.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "app_display_version", "description": "The user visible version string (e.g. \"1.0.3\").\n\nIn the unlikely event that the display version can not be retrieved,\nit is set to \"inaccessible\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "architecture", "description": "The architecture of the device, (e.g. \"arm\", \"x86\").\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "client_id", "description": "A UUID uniquely identifying the client.", "extra_keys": null, "type": "uuid", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "device_manufacturer", "description": "The manufacturer of the device the application is running on.\nNot set if the device manufacturer can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "device_model", "description": "The model of the device the application is running on.\nOn Android, this is Build.MODEL, the user-visible marketing name,\nlike \"Pixel 2 XL\".\nNot set if the device model can't be determined (e.g. on Desktop).\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "first_run_date", "description": "The date of the first run of the application.\n", "extra_keys": null, "type": "datetime", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "glean.error.invalid_label", "description": "Counts the number of times a metric was set with an invalid label.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "glean.error.invalid_overflow", "description": "Counts the number of times a metric was set a value that overflowed.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "glean.error.invalid_state", "description": "Counts the number of times a timing metric was used incorrectly.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "glean.error.invalid_value", "description": "Counts the number of times a metric was set to an invalid value.\nThe labels are the `category.name` identifier of the metric.\n", "extra_keys": null, "type": "labeled_counter", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "locale", "description": "The locale of the application during initialization (e.g. \"es-ES\").\nIf the locale can't be determined on the system, the value is\n[\"und\"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),\nto indicate \"undetermined\".\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "os", "description": "The name of the operating system.\nPossible values:\nAndroid, iOS, Linux, Darwin, Windows,\nFreeBSD, NetBSD, OpenBSD, Solaris, unknown\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "os_version", "description": "The user-visible version of the operating system (e.g. \"1.2.3\"). If the\nversion detection fails, this metric gets set to `Unknown`.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-core", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}, {"name": "android_sdk_version", "description": "The optional Android specific SDK version of the software running on this\nhardware device.\n", "extra_keys": null, "type": "string", "expires": "never", "origin": "glean-android", "pings": ["sync", "first-session", "metrics", "startup-timeline", "bookmarks-sync", "baseline", "deletion-request", "migration", "activation", "logins-sync", "events", "installation", "history-sync"]}]}